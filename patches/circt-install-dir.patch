From d9455d596d1a23d818f9e76dbbb266d41180dcbd Mon Sep 17 00:00:00 2001
From: Will Dietz <will.dietz@sifive.com>
Date: Fri, 10 May 2024 12:25:20 -0500
Subject: [PATCH] cmake: INSTALL_FULL_LIBDIR

---
 CMakeLists.txt               | 2 ++
 cmake/modules/AddCIRCT.cmake | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index a1cad4188..cd3269868 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,4 +1,6 @@
 ##===- CMakeLists.txt - CIRCT cmake root ----------------------*- cmake -*-===//
+
+
 ##
 ## Configure the CIRCT build.
 ##
diff --git a/cmake/modules/AddCIRCT.cmake b/cmake/modules/AddCIRCT.cmake
index 93379caa8..c66fcc5cc 100644
--- a/cmake/modules/AddCIRCT.cmake
+++ b/cmake/modules/AddCIRCT.cmake
@@ -84,7 +84,7 @@ function(add_circt_library_install name)
     # Note that CMake will create a directory like:
     #   objects-${CMAKE_BUILD_TYPE}/obj.LibName
     # and put object files there.
-    OBJECTS DESTINATION lib${LLVM_LIBDIR_SUFFIX}
+    OBJECTS DESTINATION ${CMAKE_INSTALL_FULL_LIBDIR}/lib${LLVM_LIBDIR_SUFFIX}
   )
 
   if (NOT LLVM_ENABLE_IDE)
-- 
2.39.3 (Apple Git-146)

